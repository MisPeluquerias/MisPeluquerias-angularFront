<nav class="navbar navbar-expand-lg bg-body-tertiary" >
  <div class="container-fluid">
    <!-- Logo -->
    <a class="navbar-brand" href="/">
      <img
        src="../../../../assets/img/web/logo-mis-peluquerias.svg"
        width="300"
        alt=""
        class="ms-5 mt-3 img-fluid"
      />
    </a>

    <!-- Botón de menú hamburguesa -->
    <button class="navbar-toggler" type="button" data-bs-theme="dark" (click)="toggleNavbar()">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Contenido de la barra de navegación -->
    <div
      [ngClass]="{ collapse: !navbarOpen, 'navbar-collapse': true }"
      id="navbarContent"
    >
      <!-- Formulario de búsqueda -->
      <form
        class="d-flex mx-auto me-5 w-100"
        role="search"
        style="max-width: 1400px"
      >
        <div class="row g-2 w-100 align-items-center">
          <div class="col-md-3">
            <div class="input-container" style="position: relative">
              <input
                type="text"
                id="serviceInput"
                name="service"
                class="form-control border-bottom-only mt-4 input-service-icon"
                placeholder="Buscar servicios"
                (input)="onInputService($event)"
                [(ngModel)]="service"
                style="background-color: #ffffff;"
                autocomplete="off"
              />
              <div *ngIf="services.length > 0" class="results-list">
                <ul class="list-group">
                  <li
                    class="list-group-item"
                    *ngFor="let service of services"
                    (click)="onSelectService(service.name)"
                  >
                    <i class="la la-scissors"></i> {{ service.name }}
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="input-container" style="position: relative">
              <input
                type="text"
                id="salonInput"
                class="form-control border-bottom-only mt-4 input-salon-icon"
                placeholder="Buscar salones"
                style="background-color: #ffffff;"
                (input)="onInputSalon($event)"
                name="salonName"
                [(ngModel)]="salonName"
                autocomplete="off"
              />
              <div *ngIf="salons.length > 0" class="results-list">
                <ul class="list-group">
                  <li
                    class="list-group-item"
                    *ngFor="let salon of salons"
                    (click)="onSelectSalon(salon)"
                  >
                    <i class="la la-home"></i> {{ salon.name }}
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div class="col-md-3">
            <div class="input-container" style="position: relative">
              <div class="input-group">
              <input
                type="text"
                id="zoneInput"
                class="form-control border-bottom-only mt-4 input-location-icon"
                placeholder="¿Dónde? Ciudad o C.P."
                (input)="onInputCity($event)"
                name="zone"
                style="background-color: #ffffff;"
                [(ngModel)]="zone"
                autocomplete="off"
              />
            </div>
              <div *ngIf="cities.length > 0" class="results-list">
                <ul class="list-group">
                  <li
                    class="list-group-item"
                    *ngFor="let city of cities"
                    (click)="onSelectCity(city)"
                  >
                    <i class="las la-map-marker"></i> {{ city.name }} -
                    <span>C.P </span>{{ city.zip_code }}
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div class="col-md-2 d-flex align-items-center">
            <button
              class="btn btn-outline-secondary rounded-pill btn-custom mt-4"
              type="submit"
              style="font-size: 1rem"
              (click)="onSearch()"
            >
              <i style="color: #b71622;" class="las la-search"></i> Buscar
            </button>
          </div>
        </div>
      </form>
      <!-- Opciones de usuario -->
      <div class="d-flex align-items-center ms-auto">
        <div class="btn-group ms-auto">
          <button
            class="btn btn-outline-secondary rounded-pill btn-custom loginMTR"
            type="button"
            style="margin-top: 22px;"
            id="dropdownMenuButton"
            aria-expanded="false"
            (click)="isAuthenticated ? toggleDropdown() : openLoginModal()"
          >
            <i
              [class]="isAuthenticated ? 'las la-grip-lines' : 'las la-sign-in-alt'"
            ></i>
            {{ isAuthenticated ? "Menú" : "Login" }}
          </button>
          <ul
            *ngIf="isAuthenticated && isDropdownOpen"
            class="dropdown-menu dropdown-menu-center show bg-light ulMTR"
            aria-labelledby="dropdownMenuButton"
            style="left: 50%; transform: translateX(-50%); margin-top: 57.5px"
          >
            <li>
              <a
                class="dropdown-item hover-list-red"
                routerLink="/profile"
                style="color: #000; font-size: 0.8rem"
              >
                <i class="las la-user" style="font-size: 0.8rem"></i> Mi Perfil</a
              >
            </li>
            <li><hr class="dropdown-divider" /></li>
            <li>
              <a
                class="dropdown-item hover-list-red"
                routerLink="/centros"
                style="color: #000; font-size: 0.8rem"
              >
                <i class="las la-map" style="font-size: 0.8rem"></i> Cerca de Mí</a
              >
            </li>
            <li><hr class="dropdown-divider" /></li>
            <li>
              <a
                class="dropdown-item hover-list-red"
                routerLink="/favorite"
                style="color: #000; font-size: 0.8rem"
                ><i class="las la-heart" style="font-size: 0.8rem"></i> Mis
                Favoritos</a
              >
            </li>
            <li><hr class="dropdown-divider" /></li>
            <li>
              <a
                class="dropdown-item hover-list-red"
                (click)="logout()"
                style="color: #000; font-size: 0.8rem; cursor: pointer;"
                ><i class="las la-door-closed" style="font-size: 0.8rem"></i>
                Salir</a
              >
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</nav>
